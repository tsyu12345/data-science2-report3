\documentclass[dvipdfmx]{jsarticle}
\usepackage[T1]{fontenc}
\usepackage[dvipdfmx]{hyperref}
\usepackage{lmodern}
\usepackage{latexsym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{here}
\usepackage{float}
\usepackage{ascmac}
\usepackage{url}

\title{Groceriesに関するR言語を使用した頻出パターン抽出及び相関ルール分析}
\author{文理学部情報科学科\\5419045 高林 秀}
\date{\today}

\begin{document}

\maketitle

\begin{abstract}
  本稿では、今年度データ科学2で学習した「頻出パターン抽出」及び「相関ルール分析」の手法を使用して、R言語のライブラリであるarulesに付属しているデータGroceriesを対象とした頻出パターン抽出、相関ルール分析を行うものである。

\end{abstract}

\section{目的}
本稿では実際に、R言語を使用しライブラリarules付属のデータであるGroceriesの頻出パターン抽出、相関ルール分析を行うことで、本年度データ科学2で学習した頻出パターン、相関ルール分析の手法への理解を深め、その定着を図ることを目的とする。また、1年次に学習したlatexを用いたPDF作成の復習も兼ねるものである。
\section{理論説明}
今回の実験で用いた、計算理論をそれぞれ説明する。
\subsection{バスケット分析}
初めに、頻出パターン抽出、相関ルール分析を説明する前に「バスケット分析」について説明する。\par
バスケット分析とは、データマイニングにおける代表的な手法の１つで、「顧客の購買記録をデータ化し分析を行うことで、顧客に共通するルールや傾向を導く」データ分析のことである。すなわち「一緒に買われやすい商品の組み合わせを見つける」ということである。\par
顧客の買い物データを分析しその結果を企業の販促活動などのマーケティングに関わる施策に適用するのが目的である。なお、バスケット分析はアソシエーション分析\footnote{データマイニングにおけるデータ間の関連性を見つける手法のこと。「もしAならばBである」といった法則を見つけ出し、主に購買記録などから顧客の購買行動の関連性を見つけ出すのに利用される。}の一つとされ、マーケットバスケット分析とも呼ばれる。\par
%%ここにバスケット分析の簡単な図説をのせる。
\subsection{頻出パターン・相関ルール分析の概要}
身の回りで頻出パターン抽出と相関ルール分析が使われている代表例としては、先に述べたバスケット分析をはじめ、オンラインショッピングサイト等のレコメンドシステム等が挙げられるだろう。頻出パターン抽出と相関ルール分析はこれらのシステムの基本的な原理である。この章では、頻出パターン抽出と相関ルール分析とはなにか概要を説明する。
\subsubsection{頻出パターン}
まず、頻出パターン(頻出アイテム集合)とはなにか説明する。頻出パターンとは「データベース中に高頻度で現れる組み合わせ、集合のこと」であり、頻出パターン抽出(頻出パターンマイニング)とはその集合を発見するための手法である。またこの集合のことを頻出アイテム集合と呼ぶ。頻出アイテム集合か、そうでないかを判断するための基準として後述する支持度(同時確率)と呼ばれる数値を計算し、その数値が、あらかじめ設定した閾値を超えるかどうかで判定する。頻出パターン抽出は「どの商品が一緒に購入されているか」を見るので、得られた結果は、商品の陳列場所の改善や、販促キャンペーン、店舗レイアウト等を考える際に利用することができる。\par
\subsubsection{相関ルール}
次に、相関ルールとはなにか説明する。相関ルールとは「頻出パターン間の関係性」のことで、相関ルール分析はこの関係性すなわちルールを見つける目的で行われる。例えば、「あるアイテム集合$I1$が生起するとき、別のアイテム集合である$I2$も同時に生起する」といったようなものが相関ルールとなる。このとき、記号で「$\{I1\} \Rightarrow \{I2\}$」といった形で記述する。導いた相関ルールを評価する評価基準として、後述する確信度と呼ばれるものが存在する。具体的な計算法は後述するが、確信度とは一言で言えば「ルールの強さ」を示す指標で、左辺のアイテム集合が生起したときの右辺のアイテム集合の生起確率である。。加えて、支持度も利用される。相関ルールにおける評価指標としての支持度は「ルールの汎用性」を示すものとして利用される。\par
相関ルール抽出問題とは、あらかじめ設定する「最小支持度」「最小確信度」を閾値として、この閾値を超える相関ルールをデータベース上から見つけることを目的とした問題である。
\subsubsection{トランザクションデータベース}
頻出パターン・相関ルール分析は後述するように、形式的な定義のもとで、入力をうけその出力として頻出パターン・相関ルールを返す。このとき、入力として「トランザクションデータベース」が与えられる。\par
トランザクション(英名：transaction)とは、商取引、議事録、売買等の意味があり、情報処理用語としては一連の処理をひとつにまとめたものという意味をもつ。トランザクションデータベースとは、データの更新処理を一つにまとめているようなデータベースのことである。
\subsection{計算法}
この章では、実際に頻出パターンや相関ルールがどのように計算されているのかについて説明する。その前に、概要の部分で登場した「支持度」と「確信度(信頼度)」について説明する。以下の説明で使用する数式記号について、
\begin{center}
  \begin{gather*}
    D = {t_{1}, t_{2}, t_{3},..., t_{n}}:n個のトランザクションを含むデータベースD\\
    I = \cup_{t_{i}\in D}t_{i}:全アイテムの集合 \\
    t_{i} \subseteq I:i番目のトランザクション \\
    min\_sup(0 < min_sup \le 1):最小支持度 \\
    min\_conf(0 \le min_conf \le 1):最小確信度
  \end{gather*}
\end{center}
のように定義する。
\subsubsection{支持度(support)}
支持度とは「ルールの汎用性(一般性)の尺度」であり、集合$I1, I2$を例にしたベン図で示すと以下のようになる。
%%ここにベン図
%%提供：JSTデータマイニングコース：教材資料動画
これは、同時確率とみなすことができる。つまり、あるパターン$X$の支持度とは$X$中のアイテムが同時に出現する確率ということができる。これを式で示すと以下のようになる。
\begin{gather*}
  ※|a|:集合aの要素数\\
  sup_{D}(X) = \frac{|{t\in D|X\subseteq t}|}{|D|}
\end{gather*}
このとき、
\begin{enumerate}
  \item $t \in D$:アイテム集合Xを含むデータベース中のトランザクション
\end{enumerate}


\subsubsection{確信度(confidence)}
\subsubsection{頻出パターン抽出の計算法}
頻出パターン抽出の際は、入力としてトランザクションデータベースを受け取り、すべての頻出アイテム集合を出力する。
\begin{center}
  \begin{gather*}
    D = {t_{1}, t_{2}, t_{3},..., t_{n}}:n個のトランザクションを含むデータベースD\\
    I = \cup_{t_{i}\in D}t_{i}:全アイテムの集合 \\
    t_{i} \subseteq I:i番目のトランザクション \\
    min\_sup(0 < min_sup \le 1):最小支持度 \\
    min\_conf(0 \le min_conf \le 1):最小確信度
  \end{gather*}
\end{center}
と定義する。このとき、頻出パターン$F$は次の式で示すことができる。
\begin{gather*}
  F = \{X | X \subseteq I, X \neq \phi, sup(支持度)_{D}(X) \ge min\_sup \}
\end{gather*}

\subsubsection{相関ルール抽出の計算法}

\subsection{パターン空間について}
\subsection{（補足）深さ優先探索・幅優先探索}
\subsection{バックトラック法}
\subsection{アプリオリアルゴリズム}
\subsection{頻出パターン抽出の問題点}
\subsection{相関ルール分析の評価基準}

\section{計算機実験}
\subsection{実験準備}
  \subsubsection{実験環境}
  今回の実験は仮想マシン上でR言語を起動し行った。下記に実験時の環境を示す。
  \begin{itemize}
    \item ホストOS：Window10 Home Ver.20H2
    \item 仮想OS：Ubuntu 20.04.2 LTS
    \item CPU：Intel(R)Core(TM)i7-9700K @ 3.6GHz
    \item GPU：Nvidia Geforce RTX2070 OC @ 8GB
    \item ホストRAM：16GB
    \item 仮想RAM：4GB
  \end{itemize}
\subsubsection{実験データ}
\subsubsection{R言語での頻出パターン・相関ルール分析の手法}
\subsection{実験結果}
\subsection{結果の説明}

\section{考察}
\section{まとめ}

\begin{thebibliography}{99}
\end{thebibliography}
\end{document}
